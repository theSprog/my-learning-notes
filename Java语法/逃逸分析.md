### 堆栈对象

一般一个对象是在堆上生成，但也不是绝对。当一个对象只在方法内部被使用，则 JVM 会选择将该对象分配在栈上，这在 JDK 6 后出现逃逸分析，如果一个对象在方法外仍然被使用，则说明该对象逃出作用域

```shell
# 打印 GC 状况
-XX:+PrintGC

# 如果需要关闭逃逸分析
-XX:-DoEscapeAnalysis
```



小结：逃逸分析是分析了对象只在当前函数范围内使用，因而改为在栈上申请空间。而栈是函数运行完，立即清理的，所以不需要等到 GC 了，大大缓解了 GC 的压力。